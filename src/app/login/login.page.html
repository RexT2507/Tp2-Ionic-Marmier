<ion-header>
  <ion-toolbar  color="primary">
    <ion-title>Login</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>

  <ion-card>

    <ion-card-header>

      <ion-card-title>Entrez vos indentifants</ion-card-title>

    </ion-card-header>

    <ion-card-content>

      <ion-item>
        <ion-input type="text"  placeholder="Prénom"  [(ngModel)]="id" required></ion-input>
      </ion-item>
    
      <ion-item>
        <ion-input type="password"  placeholder="Mot de passe" [(ngModel)]="mdp" required></ion-input>
      </ion-item>
      
      <ion-button [disabled]="mdp.length < 3 || id.length < 3" color="primary" (click)="login()">
        Connexion
      </ion-button>


    </ion-card-content>

    <span *ngIf="error"> Une erreur est survenue : {{error}}</span>
    <span *ngIf="loading"> Chargement en cours... </span>
    <span *ngIf="user && !loading"> Bienvenue {{user.nom}}</span>




  </ion-card>


  <ion-card>

    <ion-card-header>

      <ion-card-title>Si le délais de connexion est trop long !</ion-card-title>

      <ion-card-content>
        Il est possible que la réponse de l'api soit trop longue en raison des problèmes de connexion !
        Pas de problème vous pouvez utiliser le bouton ci-dessous.
        Mais voici un gif pour vous montrer l'animation de Login quand la connexion est bonne ;) <br>
                
        <ion-button routerLink="/home">
          Mode Hors Ligne
        </ion-button>
      </ion-card-content>

      <ion-card-content>

        <img src="../../assets/logindemo.gif">

      </ion-card-content>

    </ion-card-header>

  </ion-card>


</ion-content>
